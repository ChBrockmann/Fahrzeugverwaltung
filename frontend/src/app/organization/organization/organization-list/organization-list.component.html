<ng-container *ngIf="!isLoading; else loader">
  <ng-container *ngIf="organizations.length == 0">
    <div class="no-data">
      <h2>Keine Organisationen gefunden</h2>
    </div>
  </ng-container>
  <ng-container *ngIf="organizations.length > 0">
    <table mat-table [dataSource]="organizations">
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let organization">{{ organization.name }}</td>
      </ng-container>

      <ng-container matColumnDef="user-count">
      <th mat-header-cell *matHeaderCellDef>Anzahl Mitglieder</th>
      <td mat-cell *matCellDef="let organization">{{ organization.users.length }}</td>
    </ng-container>

      <ng-container matColumnDef="basic-edit">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let organization">
<!--          <button mat-fab color="accent" aria-label="Bearbeiten">-->
<!--            <mat-icon>edit</mat-icon>-->
<!--          </button>-->
          <button mat-button color="accent" [routerLink]="['/organization', organization.id]">
            <mat-icon>edit</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </ng-container>
</ng-container>


<ng-template #loader>
  <mat-progress-spinner color="primary" mode="indeterminate"></mat-progress-spinner>
</ng-template>
